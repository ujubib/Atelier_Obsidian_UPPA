/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LinkOpenPlugin,
  globalLink: () => globalLink
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  openMethod: "modal",
  modalWidth: "80vw",
  modalHeight: "80vh"
};
var openMethods = {
  browser: "Browser",
  modal: "Obsidian Modal",
  tab: "Obsidian Tab"
};
var LinkOpenSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Link Opener Settings" });
    new import_obsidian.Setting(containerEl).setName("Open external links with").addDropdown((dd) => dd.addOptions(openMethods).setValue(this.plugin.settings.openMethod).onChange(async (value) => {
      this.plugin.settings.openMethod = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h3", { text: "Modal Settings" });
    new import_obsidian.Setting(containerEl).setName("Modal width").setDesc("Enter any valid CSS unit").addText((text) => text.setValue(this.plugin.settings.modalWidth).onChange(async (value) => {
      this.plugin.settings.modalWidth = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Modal height").setDesc("Enter any valid CSS unit").addText((text) => text.setValue(this.plugin.settings.modalHeight).onChange(async (value) => {
      this.plugin.settings.modalHeight = value;
      await this.plugin.saveSettings();
    }));
  }
};

// src/view.ts
var import_obsidian2 = require("obsidian");
var LINK_VIEW = "link-view";
var LinkView = class extends import_obsidian2.ItemView {
  constructor(workspace, leaf, link) {
    super(leaf);
    this.workspace = workspace;
    this.link = globalLink;
  }
  getViewType() {
    return LINK_VIEW;
  }
  getDisplayText() {
    return "External Link View";
  }
  setLink(link) {
    this.link = link;
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    const frame = container.createEl("iframe");
    frame.src = this.link;
    frame.setAttribute("frameborder", "0");
    frame.width = "100%";
    frame.height = "100%";
  }
  async onClose() {
  }
};

// src/modal.ts
var import_obsidian3 = require("obsidian");
var LinkModal = class extends import_obsidian3.Modal {
  constructor(app, link, width, height) {
    super(app);
    this.link = link;
    this.width = width;
    this.height = height;
  }
  onOpen() {
    const modalContainer = this.containerEl.lastChild;
    modalContainer.style.width = this.width;
    modalContainer.style.height = this.height;
    const { contentEl } = this;
    contentEl.addClass("link-modal");
    const frame = contentEl.createEl("iframe");
    frame.src = this.link;
    frame.setAttribute("frameborder", "0");
    frame.width = "100%";
    frame.height = "92%";
    const button = contentEl.createEl("button");
    button.setAttribute("onclick", `window.open("${this.link}");this.close()`);
    button.innerHTML = "Open in Browser";
    button.addClass("modal-button");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/main.ts
var globalLink = "";
var LinkOpenPlugin = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(LINK_VIEW, (leaf) => new LinkView(this.app.workspace, leaf, ""));
    const clickEvt = async (evt) => {
      const el = evt.target;
      if (el.classList.contains("external-link")) {
        const href = el.getAttribute("linkto");
        if (this.settings.openMethod === "modal" && href) {
          new LinkModal(this.app, href, this.settings.modalWidth, this.settings.modalHeight).open();
        } else if (this.settings.openMethod === "browser" && href) {
          window.open(href);
        } else if (this.settings.openMethod === "tab" && href) {
          globalLink = href;
          await this.app.workspace.getLeaf("tab").setViewState({ type: LINK_VIEW, active: true });
          this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(LINK_VIEW)[0]);
          return;
        }
      }
    };
    this.registerDomEvent(document, "click", (evt) => {
      evt.preventDefault();
      return clickEvt(evt);
    });
    const removeUrl = (evt) => {
      const el = evt.target;
      if (!el.classList.contains("external-link")) {
        return;
      }
      if (el.getAttribute("href") == "javascript:void(0);") {
        return;
      }
      const href = el.getAttribute("href");
      el.setAttribute("linkto", href ? href : "");
      el.setAttribute("href", "javascript:void(0);");
    };
    this.registerDomEvent(document, "mouseover", (evt) => {
      return removeUrl(evt);
    });
    this.addSettingTab(new LinkOpenSettingTab(this.app, this));
  }
  onunload() {
    this.app.workspace.detachLeavesOfType(LINK_VIEW);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy92aWV3LnRzIiwgInNyYy9tb2RhbC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgTGlua09wZW5QbHVnaW5TZXR0aW5ncywgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IExpbmtWaWV3LCBMSU5LX1ZJRVcgfSBmcm9tIFwiLi92aWV3XCI7XG5pbXBvcnQgeyBMaW5rTW9kYWwgfSBmcm9tIFwiLi9tb2RhbFwiO1xuXG5leHBvcnQgbGV0IGdsb2JhbExpbmsgPSBcIlwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5rT3BlblBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBMaW5rT3BlblBsdWdpblNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoXG5cdFx0XHRMSU5LX1ZJRVcsXG5cdFx0XHQobGVhZikgPT4gbmV3IExpbmtWaWV3KHRoaXMuYXBwLndvcmtzcGFjZSwgbGVhZiwgXCJcIilcblx0XHQpO1xuXG5cdFx0Ly8gVGhpcyBpcyBhIGNsaWNrIGV2ZW50IGhhbmRsZXJcblx0XHRjb25zdCBjbGlja0V2dCA9IGFzeW5jIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGNvbnN0IGVsID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcblxuXHRcdFx0aWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhcImV4dGVybmFsLWxpbmtcIikpIHtcblx0XHRcdFx0Y29uc3QgaHJlZiA9IGVsLmdldEF0dHJpYnV0ZShcImxpbmt0b1wiKTtcblxuXHRcdFx0XHQvLyBPcGVuIHdpdGggbW9kYWxcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Mub3Blbk1ldGhvZCA9PT0gXCJtb2RhbFwiICYmIGhyZWYpIHtcblx0XHRcdFx0XHRuZXcgTGlua01vZGFsKFxuXHRcdFx0XHRcdFx0dGhpcy5hcHAsXG5cdFx0XHRcdFx0XHRocmVmLFxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5tb2RhbFdpZHRoLFxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5tb2RhbEhlaWdodFxuXHRcdFx0XHRcdCkub3BlbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3BlbiB3aXRoIGJyb3dzZXJcblx0XHRcdFx0ZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5vcGVuTWV0aG9kID09PSBcImJyb3dzZXJcIiAmJiBocmVmKSB7XG5cdFx0XHRcdFx0d2luZG93Lm9wZW4oaHJlZik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBPcGVuIHdpdGggb2JzaWRpYW4gdGFiXG5cdFx0XHRcdGVsc2UgaWYgKHRoaXMuc2V0dGluZ3Mub3Blbk1ldGhvZCA9PT0gXCJ0YWJcIiAmJiBocmVmKSB7XG5cdFx0XHRcdFx0Z2xvYmFsTGluayA9IGhyZWY7XG5cblx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2Vcblx0XHRcdFx0XHRcdC5nZXRMZWFmKFwidGFiXCIpXG5cdFx0XHRcdFx0XHQuc2V0Vmlld1N0YXRlKHsgdHlwZTogTElOS19WSUVXLCBhY3RpdmU6IHRydWUgfSk7XG5cblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihcblx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoTElOS19WSUVXKVswXVxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gVGhpcyByZWdpc3RlcnMgYSBjbGljayBldmVudFxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgXCJjbGlja1wiLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHJldHVybiBjbGlja0V2dChldnQpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gVGhpcyBoYW5kbGVzIHJlbW92aW5nIGV4dGVybmFsIHVybCBkZWZhdWx0IHJlZGlyZWN0XG5cdFx0Y29uc3QgcmVtb3ZlVXJsID0gKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0Y29uc3QgZWwgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0aWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJleHRlcm5hbC1saW5rXCIpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09IFwiamF2YXNjcmlwdDp2b2lkKDApO1wiKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGhyZWYgPSBlbC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuXHRcdFx0ZWwuc2V0QXR0cmlidXRlKFwibGlua3RvXCIsIGhyZWYgPyBocmVmIDogXCJcIik7XG5cdFx0XHRlbC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiamF2YXNjcmlwdDp2b2lkKDApO1wiKTtcblx0XHR9O1xuXG5cdFx0Ly8gVGhpcyBhY2tub3dsZWRnZXMgYSBob3ZlciB0byByZW1vdmVVcmxcblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdHJldHVybiByZW1vdmVVcmwoZXZ0KTtcblx0XHR9KTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBMaW5rT3BlblBsdWdpblNldHRpbmdzKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKExJTktfVklFVyk7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG5cdFx0XHR7fSxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MsXG5cdFx0XHRhd2FpdCB0aGlzLmxvYWREYXRhKClcblx0XHQpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBMaW5rT3BlblBsdWdpbiBmcm9tIFwiLi9tYWluXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlua09wZW5QbHVnaW5TZXR0aW5ncyB7XG5cdG9wZW5NZXRob2Q6IHN0cmluZztcblx0bW9kYWxXaWR0aDogc3RyaW5nO1xuXHRtb2RhbEhlaWdodDogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTGlua09wZW5QbHVnaW5TZXR0aW5ncyA9IHtcblx0b3Blbk1ldGhvZDogXCJtb2RhbFwiLFxuXHRtb2RhbFdpZHRoOiBcIjgwdndcIixcblx0bW9kYWxIZWlnaHQ6IFwiODB2aFwiLFxufTtcblxuY29uc3Qgb3Blbk1ldGhvZHMgPSB7XG5cdGJyb3dzZXI6IFwiQnJvd3NlclwiLFxuXHRtb2RhbDogXCJPYnNpZGlhbiBNb2RhbFwiLFxuXHR0YWI6IFwiT2JzaWRpYW4gVGFiXCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5rT3BlblNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBMaW5rT3BlblBsdWdpbjtcblx0b3Blbk1ldGhvZDogc3RyaW5nO1xuXHRtb2RhbFdpZHRoOiBzdHJpbmc7XG5cdG1vZGFsSGVpZ2h0OiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGlua09wZW5QbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiTGluayBPcGVuZXIgU2V0dGluZ3NcIiB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJPcGVuIGV4dGVybmFsIGxpbmtzIHdpdGhcIilcblx0XHRcdC5hZGREcm9wZG93bigoZGQpID0+XG5cdFx0XHRcdGRkXG5cdFx0XHRcdFx0LmFkZE9wdGlvbnMob3Blbk1ldGhvZHMpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5NZXRob2QpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub3Blbk1ldGhvZCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJNb2RhbCBTZXR0aW5nc1wiIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIk1vZGFsIHdpZHRoXCIpXG5cdFx0XHQuc2V0RGVzYyhcIkVudGVyIGFueSB2YWxpZCBDU1MgdW5pdFwiKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kYWxXaWR0aClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RhbFdpZHRoID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJNb2RhbCBoZWlnaHRcIilcblx0XHRcdC5zZXREZXNjKFwiRW50ZXIgYW55IHZhbGlkIENTUyB1bml0XCIpXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RhbEhlaWdodClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RhbEhlaWdodCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBnbG9iYWxMaW5rIH0gZnJvbSBcIi4vbWFpblwiO1xuXG5leHBvcnQgY29uc3QgTElOS19WSUVXID0gXCJsaW5rLXZpZXdcIjtcblxuZXhwb3J0IGNsYXNzIExpbmtWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuXHRsaW5rOiBzdHJpbmc7XG5cdHdvcmtzcGFjZTogV29ya3NwYWNlO1xuXG5cdGNvbnN0cnVjdG9yKHdvcmtzcGFjZTogV29ya3NwYWNlLCBsZWFmOiBXb3Jrc3BhY2VMZWFmLCBsaW5rOiBzdHJpbmcpIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLndvcmtzcGFjZSA9IHdvcmtzcGFjZTtcblx0XHR0aGlzLmxpbmsgPSBnbG9iYWxMaW5rO1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKSB7XG5cdFx0cmV0dXJuIExJTktfVklFVztcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCkge1xuXHRcdHJldHVybiBcIkV4dGVybmFsIExpbmsgVmlld1wiO1xuXHR9XG5cblx0c2V0TGluayhsaW5rOiBzdHJpbmcpIHtcblx0XHR0aGlzLmxpbmsgPSBsaW5rO1xuXHR9XG5cblx0YXN5bmMgb25PcGVuKCkge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XG5cdFx0Y29uc3QgZnJhbWUgPSBjb250YWluZXIuY3JlYXRlRWwoXCJpZnJhbWVcIik7XG5cdFx0ZnJhbWUuc3JjID0gdGhpcy5saW5rO1xuXHRcdGZyYW1lLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsIFwiMFwiKTtcblx0XHRmcmFtZS53aWR0aCA9IFwiMTAwJVwiO1xuXHRcdGZyYW1lLmhlaWdodCA9IFwiMTAwJVwiO1xuXHR9XG5cblx0YXN5bmMgb25DbG9zZSgpIHt9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgY2xhc3MgTGlua01vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRsaW5rOiBzdHJpbmc7XG5cdHdpZHRoOiBzdHJpbmc7XG5cdGhlaWdodDogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBsaW5rOiBzdHJpbmcsIHdpZHRoOiBzdHJpbmcsIGhlaWdodDogc3RyaW5nKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLmxpbmsgPSBsaW5rO1xuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHQvLyBNb2RhbCBTaXplXG5cdFx0Y29uc3QgbW9kYWxDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmxhc3RDaGlsZCBhcyBIVE1MRWxlbWVudDtcblx0XHRtb2RhbENvbnRhaW5lci5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGg7XG5cdFx0bW9kYWxDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cblx0XHQvLyBJZnJhbWUgQ29udGVudFxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5hZGRDbGFzcyhcImxpbmstbW9kYWxcIik7XG5cdFx0Y29uc3QgZnJhbWUgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJpZnJhbWVcIik7XG5cdFx0ZnJhbWUuc3JjID0gdGhpcy5saW5rO1xuXHRcdGZyYW1lLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsIFwiMFwiKTtcblx0XHRmcmFtZS53aWR0aCA9IFwiMTAwJVwiO1xuXHRcdGZyYW1lLmhlaWdodCA9IFwiOTIlXCI7XG5cblx0XHQvLyBPcGVuIGluIEJyb3dzZXIgQnV0dG9uXG5cdFx0Y29uc3QgYnV0dG9uID0gY29udGVudEVsLmNyZWF0ZUVsKFwiYnV0dG9uXCIpO1xuXHRcdGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXG5cdFx0XHRcIm9uY2xpY2tcIixcblx0XHRcdGB3aW5kb3cub3BlbihcIiR7dGhpcy5saW5rfVwiKTt0aGlzLmNsb3NlKClgXG5cdFx0KTtcblx0XHRidXR0b24uaW5uZXJIVE1MID0gXCJPcGVuIGluIEJyb3dzZXJcIjtcblx0XHRidXR0b24uYWRkQ2xhc3MoXCJtb2RhbC1idXR0b25cIik7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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
